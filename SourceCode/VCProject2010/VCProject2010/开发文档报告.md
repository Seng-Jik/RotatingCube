~~~
开发文档报告要采用Word或者PDF格式。文档的页眉必须设置为“第十六届山东省大
学生软件设计大赛参赛作品报告”；
报告还应包含以下内容：
i.	游戏简介以及创意
ii.	游戏操作以及闯关关键点
iii.	游戏整体框架
iv.	代码结构
v.	关键技术点
vi.	完成时间进度情况
vii.	参考他人作品
viii.	小组成员以及分工

~~~

# 旋转魔方 开发文档报告

## 一、游戏简介以及创意



## 二、游戏操作以及闯关关键点

使用鼠标操作，按住鼠标左键并移动鼠标即可旋转方块。
将方块旋转到和黑色图形重合即可过关。

## 三、游戏整体框架

* FunCode引擎增强
  + 在C\+\+14上使用的C\+\+17特性
    - optional数据结构
  + 图形增强
    - 3D模型的加载、渲染、存放
    - 后处理
    - 着色器
    - 2D增强
    - 纹理
  + 复写表数据结构
  + 资源管理增强
  + GPU资源管理器
  + 数学工具
  + 任务表
  + 补帧器
  + 基本游戏对象
    - 按钮
    - 鼠标光标
    - 游戏对象集合
* 游戏逻辑
  + 用于测试FunCode引擎及FunCode增强部分的测试单元
  + 游戏玩法逻辑
    - 答案板
    - 时间显示器
    - 关卡入口点
    - 解密方块
    - 通关对话框
    - 关卡数据容器
  + 标题页面
    - 帮助页面
    - 关卡选择页面
    - 关卡选单
    - 标题页面
    - 标题页背景动画
  + 存档
  + 音效
* GPU端代码
  + 数据格式定义
  + 顶点着色器
    - 从3D空间变换到相机空间的顶点着色器
  + 几何着色器
    - 用于对三角形计算法线并将法线数据附加到三角形的几何着色器
  + 像素着色器
    - 用于将表面涂为某种颜色的像素着色器
    - 用于对表面进行光照的像素着色器
    - 用于将表面涂为黑色的像素着色器
    - 用于对2D精灵进行上色的像素着色器
    - 用于显示标题页背景动画的像素着色器
* 开发工具
  + 资源构造器
  + 副本清理器
  + 命令行快速入口
  + 游戏快速入口
  + 游戏打包工具

## 四、代码结构

##### C++代码部分
游戏的主体部分
* Engine *对FunCode引擎的增强部分*
  + Rendering *对FunCode图形显示部分增补的3D和2D能力*
    - ObjLoader *3D模型加载器*
    - ObjModel *将3D模型作为游戏对象的容器*
    - PostEffect *后处理效果器*
    - Shaders *着色器加载器*
    - Sprite2D *2D精灵*
    - Tex2D *2D纹理*
    - VertexIn *用于将3D模型载入至显存的工具*
  + Assets *对FunCode增强的资源加载器*
  + Button *按钮精灵*
  + Cursor *鼠标样式*
  + Device *引擎增强管理器，用于集中管理对FunCode的增强部分和显存资源、GPU资源*
  + GameObject *游戏对象，用于抽象地表示一切游戏内的可以与玩家产生交互的对象*
  + Magic *FunCode增强器*
  + Math *数学工具*
  + ObjectSet *游戏对象集合，是一种游戏对象，可以使游戏对象组织为树结构*
  + Optional *对C\+\+14增补C\+\+17的std::optional*
  + OverwriteArray *复写表数据结构*
  + TaskList *延迟任务表，用于执行延迟一段时间的任务*
  + Tween *补帧器，用于对其管理的代数类型进行补帧，用于制作补帧动画*
* Game *游戏逻辑部分*
  + EngineTests *FunCode引擎增强部分测试，开发初期用于单元测试的组件，游戏中不使用此组件，此组件仅用于测试*
    - DemoCube *立方体Demo，显示一个3D的立方体模型*
    - DemoRotatingCube *旋转立方体Demo，显示一个旋转中的3D立方体模型*
    - ModelTest *复杂模型Demo，显示一个复杂的3D模型*
  + GamePlay *游戏玩法相关*
    - AnswerBoard *答案板，此对象显示游戏中谜题的解答*
    - Clock *表，用于显示游戏中的时间信息*
    - GameMain *主游戏场景，此对象传入关卡数据，并且调用其他对象来执行这个关卡*
    - RotatingCube *旋转中的魔方，用于显示谜题的3D解答部分，玩家操作此立方体来解谜*
    - StageComplete *关卡完成后显示的Finish对话框*
    - StageData *关卡数据容器，用于加载和存放关卡数据*
  + Title *标题页面部分*
    - Help *帮助页面*
    - StageSelectGUI *关卡选择界面*
    - StageSelectMenu *可以选择的关卡列表*
    - TitleGUI *标题页面*
  + MainBackground *背景动画*
  + SaveData *游戏存档*
  + SoundEffect *音效管理器*
  + Main *程序入口点，并且初始化FunCode引擎、FunCode增强和游戏逻辑*
* Globals *全局工具，包括日志记录器、鼠标光标开关和断言器*

##### HLSL代码部分
游戏需要在GPU上执行的图形相关的部分
* GSNormalCalc *计算输入给GPU的三角形的法线，并将法线信息附加到三角形上的几何着色器*
* PSColorOnly *对三角形统一涂色为单一颜色的像素着色器*
* PSCubeModel *根据三角形法线、灯光参数和观察者位置，对三角形进行光照计算的像素着色器*
* PSModelBlack *将三角形统一涂为黑色的像素着色器*
* PSSprite2DDefault *将三角形视为2D图形，根据给定图片进行上色的像素着色器*
* PSTitleBackground *用于显示标题页3D背景动画的像素着色器*
* VertexOut *定义GPU的数据格式*
* VSDefaultWVP *将3D三角形变换到2D空间的顶点着色器*

#### 脚本
开发游戏时使用的工具
* buildsst *将图片资源转换为sst格式，并将游戏资源复制到游戏目录*
* cleansst *清理所有资源副本，只保留原本的资源*
* command *快速启动控制台，并且将工作目录定到游戏工程目录*
* game *快速启动已经编译好的游戏*
* release *对游戏执行全部的构建操作，并且打包为zip文件*

## 五、关键技术点


## 六、完成时间进度情况

## 七、参考他人作品

## 八、小组成员以及分工


